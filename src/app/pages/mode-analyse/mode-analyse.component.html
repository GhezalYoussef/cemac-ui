<cd-pageTitle keyValue="pageTitle.analyse" styleClass="sncf-default-color" ></cd-pageTitle>
<div class="grid">
    <div class="col-12 lg:col-12">
        <p-panel [showHeader]="false">
            <p-panel header="Liste des resultats">
                <div class="grid">
                    <div class="col-12 lg:col-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                {{requete ?'REF_' + requete.requeteRef : 'REF'}}
                            </span>
                            <span class="p-inputgroup-addon">
                                REQUÊTE DU : {{ RQDate | date: 'mediumDate'}} A {{RQDate | date:'mediumTime'}}
                            </span>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col-12 lg:col-12">
                        <div class="pastille">
                            <p-table [value]="analyseResultList"
                                     sortMode="multiple"
                                     selectionMode="single"
                                     [(selection)]="selectedResult"
                                     responsiveLayout="scroll"
                                     dataKey="refResult">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Réf</th>
                                        <th>CATÉGORIE</th>
                                        <th>SOUS CATÉGORIE</th>
                                        <th>OPÉRATION</th>
                                        <th>SOUS OPÉRATION</th>
                                        <th>CATÉGORIE MAINTENANCE</th>
                                        <th>UOP</th>
                                        <th>COUT</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-result let-expanded="expanded">
                                    <tr [pSelectableRow]="result">
                                        <td>{{result.refResult}}</td>
                                        <td>{{result.categorie}}</td>
                                        <td>{{result.sousCategorie}}</td>
                                        <td>{{result.operation}}</td>
                                        <td>{{result.sousOperation}}</td>
                                        <td>{{result.categorieMaintenance}}</td>
                                        <td>{{result.uop}}</td>
                                        <td>{{result.cout}}</td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </div>
            </p-panel>
        </p-panel>
    </div>
</div>
<!--<p-message key="global-messages"></p-message>-->
<!--<p-message key="local-messages"></p-message>-->
<p-confirmDialog header="Confirmation"
                 acceptIcon=""
                 rejectIcon=""
                 rejectButtonStyleClass="p-button-light"
                 acceptLabel="Oui"
                 rejectLabel="Non">
</p-confirmDialog>
<p-toast key="top"></p-toast>
<p-toast key="bottom-right" position="bottom-right"></p-toast>

